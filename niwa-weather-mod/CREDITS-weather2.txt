This mod was largely influenced by https://github.com/Corosauce/weather2.